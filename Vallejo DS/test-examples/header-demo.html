<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vallejo Header Component - Demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Design System CSS Variables */
        :root {
            /* Brand Colors */
            --color-brand-copart-blue: #2662D9;
            --color-brand-copart-white: #FFFFFF;
            --color-brand-copart-black: #2F333C;
            
            /* Light Mode - Neutral */
            --color-light-neutral-000: #FFFFFF;
            --color-light-neutral-100: #F4F5F6;
            --color-light-neutral-200: #E2E5E9;
            --color-light-neutral-300: #C5CCD3;
            --color-light-neutral-350: #6C7073;
            --color-light-neutral-400: #46525D;
            --color-light-neutral-500: #2F333C;
            
            /* Light Mode - Blue */
            --color-light-blue-100: #F6F9FD;
            --color-light-blue-200: #EEF2FC;
            --color-light-blue-300: #E1E9FA;
            --color-light-blue-400: #2662D9;
            --color-light-blue-500: #063598;
            --color-light-blue-600: #0F2757;
            
            /* Typography */
            --typography-font-family-base: 'Inter', sans-serif;
            --typography-font-size-200: 12px;
            --typography-font-size-300: 14px;
            --typography-font-size-400: 16px;
            --typography-font-size-500: 20px;
            --typography-weight-regular: 400;
            --typography-weight-medium: 500;
            --typography-weight-semibold: 600;
            --typography-weight-bold: 700;
            --typography-line-height-200: 18px;
            --typography-line-height-300: 20px;
            --typography-line-height-400: 22px;
            --typography-line-height-500: 28px;
            
            /* Spacing */
            --spacing-2: 2px;
            --spacing-4: 4px;
            --spacing-8: 8px;
            --spacing-12: 12px;
            --spacing-16: 16px;
            --spacing-20: 20px;
            --spacing-24: 24px;
            --spacing-32: 32px;
            --spacing-34: 34px;
            --spacing-40: 40px;
            --spacing-46: 46px;
            --spacing-48: 48px;
            
            /* Border Radius */
            --border-radius-150: 6px;
            --border-radius-200: 8px;
            --border-radius-small: 4px;
            
            /* Shadows */
            --shadow-medium: -2px 3px 30px 0px rgba(70, 82, 93, 0.12);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: var(--typography-font-family-base);
            margin: 0;
            padding: 0;
            background: var(--color-light-neutral-100);
            color: var(--color-light-neutral-500);
        }

        /* Import Header CSS */
        /* Vallejo Header Component Styles */
        .vallejo-header {
            position: relative;
            width: 100%;
            z-index: 1000;
        }

        .vallejo-header__main {
            background-color: var(--color-light-neutral-500);
        }

        .vallejo-header__container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0 var(--spacing-24);
            display: flex;
            align-items: center;
            gap: var(--spacing-24);
            height: 88px;
        }

        .vallejo-header__secondary .vallejo-header__container {
            height: 48px;
        }

        .vallejo-header__logo {
            flex-shrink: 0;
        }

        .vallejo-header__logo-link {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--color-brand-copart-white);
        }

        .vallejo-header__logo-img {
            height: 48px;
            width: auto;
            display: block;
            object-fit: contain;
        }

        .vallejo-header__logo-default {
            display: flex;
            align-items: center;
        }

        .vallejo-header__logo-oval {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-4) var(--spacing-12);
            background-color: var(--color-brand-copart-blue);
            border: none;
            border-radius: 20px;
            min-height: 48px;
        }

        .vallejo-header__logo-text {
            font-size: var(--typography-font-size-400);
            font-weight: var(--typography-weight-bold);
            color: var(--color-brand-copart-white);
            font-style: italic;
            letter-spacing: -0.02em;
        }

        .vallejo-header__mobile-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--color-brand-copart-white);
            cursor: pointer;
            padding: var(--spacing-8);
        }

        .vallejo-header__primary-nav {
            flex: 0 1 auto;
            display: flex;
            align-items: center;
        }

        .vallejo-header__nav-list {
            display: flex;
            align-items: center;
            gap: var(--spacing-8);
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .vallejo-header__nav-item {
            position: relative;
        }

        .vallejo-header__nav-link {
            display: flex;
            align-items: center;
            gap: var(--spacing-4);
            padding: var(--spacing-8) var(--spacing-12);
            color: var(--color-brand-copart-white);
            text-decoration: none;
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            line-height: var(--typography-line-height-300);
            border-radius: var(--border-radius-200);
            transition: background-color 0.2s ease;
            white-space: nowrap;
        }

        .vallejo-header__nav-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .vallejo-header__nav-link--active {
            background-color: rgba(255, 255, 255, 0.15);
        }

        .vallejo-header__nav-link--disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        .vallejo-header__nav-chevron {
            display: flex;
            align-items: center;
            transition: transform 0.2s ease;
        }

        .vallejo-header__nav-link--active .vallejo-header__nav-chevron {
            transform: rotate(180deg);
        }

        .vallejo-header__dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            margin-top: var(--spacing-4);
            background-color: var(--color-light-neutral-000);
            border-radius: var(--border-radius-200);
            box-shadow: var(--shadow-medium, -2px 3px 30px 0px rgba(70, 82, 93, 0.12));
            min-width: 240px;
            z-index: 1001;
            padding: var(--spacing-8);
        }

        .vallejo-header__dropdown-content {
            display: flex;
            flex-direction: column;
        }

        .vallejo-header__dropdown-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-12) var(--spacing-16);
            color: var(--color-light-neutral-500);
            text-decoration: none;
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            line-height: var(--typography-line-height-300);
            border-radius: var(--border-radius-200);
            transition: background-color 0.2s ease;
        }

        .vallejo-header__dropdown-item:hover {
            background-color: var(--color-light-neutral-100);
        }

        .vallejo-header__search {
            flex: 1;
            max-width: 600px;
            margin: 0 var(--spacing-24);
        }

        .vallejo-header__mobile-search {
            display: none;
        }

        .vallejo-header__search-form {
            display: flex;
            align-items: center;
            background-color: var(--color-light-neutral-000);
            border-radius: var(--border-radius-200);
            overflow: hidden;
            height: 40px;
        }

        .vallejo-header__search-input {
            flex: 1;
            padding: 0 var(--spacing-12);
            height: 40px;
            border: none;
            background: none;
            color: var(--color-light-neutral-500);
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            outline: none;
        }

        .vallejo-header__search-input::placeholder {
            color: var(--color-light-neutral-400);
        }

        .vallejo-header__search-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--color-light-neutral-400);
            transition: color 0.2s ease;
            flex-shrink: 0;
        }

        .vallejo-header__search-button:hover {
            color: var(--color-brand-copart-blue);
        }

        .vallejo-header__utilities {
            display: flex;
            align-items: center;
            gap: 18px;
            flex-shrink: 0;
            margin-left: auto;
        }

        .vallejo-header__auth-group {
            display: flex;
            align-items: center;
            gap: var(--spacing-12);
        }

        .vallejo-header__sign-in-icon,
        .vallejo-header__bell-btn {
            display: none;
        }

        .vallejo-header__help-link {
            color: var(--color-brand-copart-white);
            text-decoration: none;
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            white-space: nowrap;
            transition: color 0.2s ease, text-decoration 0.2s ease;
        }

        .vallejo-header__help-link:hover {
            color: var(--color-light-blue-300);
            text-decoration: underline;
        }

        .vallejo-header__sign-in-link {
            color: var(--color-brand-copart-white);
            text-decoration: none;
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            white-space: nowrap;
            transition: color 0.2s ease, text-decoration 0.2s ease;
        }

        .vallejo-header__sign-in-link:hover {
            color: var(--color-light-blue-300);
            text-decoration: underline;
        }

        .vallejo-header__sign-up {
            white-space: nowrap;
        }

        .vallejo-header__language-button {
            display: flex;
            align-items: center;
            gap: var(--spacing-8);
            padding: var(--spacing-8) var(--spacing-12);
            background: none;
            border: none;
            color: var(--color-brand-copart-white);
            cursor: pointer;
            border-radius: var(--border-radius-200);
            transition: background-color 0.2s ease;
        }

        .vallejo-header__language-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .vallejo-header__flag {
            display: inline-flex;
            align-items: center;
            width: 25px;
            height: 18px;
        }

        .vallejo-header__flag [data-icon] {
            width: 25px;
            height: 18px;
        }

        .vallejo-header__account-button {
            display: flex;
            align-items: center;
            gap: var(--spacing-8);
            padding: var(--spacing-8) var(--spacing-12);
            background: none;
            border: none;
            color: var(--color-brand-copart-white);
            cursor: pointer;
            border-radius: var(--border-radius-200);
            transition: background-color 0.2s ease;
        }

        .vallejo-header__account-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .vallejo-header__account-button--active {
            background-color: rgba(255, 255, 255, 0.15);
        }

        .vallejo-header__account-button--active .vallejo-header__nav-chevron {
            transform: rotate(180deg);
        }

        .vallejo-header__account-wrap {
            position: relative;
        }

        .vallejo-header__account-dropdown {
            left: auto;
            right: 0;
            min-width: 160px;
        }

        .vallejo-header__avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            object-fit: cover;
        }

        .vallejo-header__account-text {
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            color: var(--color-brand-copart-white);
        }

        .vallejo-header__secondary {
            background-color: var(--color-light-neutral-400);
        }

        .vallejo-header__secondary-nav {
            display: flex;
            align-items: center;
        }

        .vallejo-header__secondary .vallejo-header__nav-link {
            font-size: var(--typography-font-size-200);
            line-height: var(--typography-line-height-200);
        }

        .vallejo-header__language-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .vallejo-header__language-modal {
            background-color: var(--color-light-neutral-000);
            border-radius: var(--border-radius-200);
            box-shadow: var(--shadow-medium, -2px 3px 30px 0px rgba(70, 82, 93, 0.12));
            width: 90%;
            max-width: 480px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .vallejo-header__language-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--spacing-16);
            border-bottom: 1px solid var(--color-light-neutral-200);
        }

        .vallejo-header__language-modal-title {
            font-size: var(--typography-font-size-400);
            font-weight: var(--typography-weight-medium);
            line-height: var(--typography-line-height-400);
            color: var(--color-light-neutral-500);
            margin: 0;
        }

        .vallejo-header__language-modal-close {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--color-light-neutral-500);
            border-radius: var(--border-radius-200);
            transition: background-color 0.2s ease;
        }

        .vallejo-header__language-modal-close:hover {
            background-color: var(--color-light-neutral-100);
        }

        .vallejo-header__language-modal-content {
            padding: var(--spacing-16);
        }

        .vallejo-header__language-modal-description {
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-regular);
            line-height: var(--typography-line-height-400);
            color: var(--color-light-neutral-500);
            margin: 0 0 var(--spacing-16) 0;
        }

        .vallejo-header__language-modal-field {
            margin-bottom: var(--spacing-16);
        }

        .vallejo-header__language-modal-hint {
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-regular);
            line-height: var(--typography-line-height-400);
            color: var(--color-light-neutral-400);
            margin: var(--spacing-8) 0 var(--spacing-12) 0;
        }

        .vallejo-header__language-modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-8);
            margin-top: var(--spacing-24);
        }

        .vallejo-header__mobile-menu {
            position: fixed;
            top: 88px;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--color-light-neutral-500);
            z-index: 999;
            overflow-y: auto;
        }

        .vallejo-header__mobile-menu-content {
            padding: var(--spacing-16);
        }

        .vallejo-header__mobile-nav {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-8);
            margin-bottom: var(--spacing-16);
        }

        .vallejo-header__mobile-nav-item {
            display: flex;
            flex-direction: column;
        }

        .vallejo-header__mobile-nav-link {
            padding: var(--spacing-12) var(--spacing-16);
            color: var(--color-brand-copart-white);
            text-decoration: none;
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            line-height: var(--typography-line-height-400);
            border-radius: var(--border-radius-200);
            transition: background-color 0.2s ease;
        }

        .vallejo-header__mobile-nav-link:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .vallejo-header__mobile-nav-link--child {
            padding-left: var(--spacing-24);
            font-size: var(--typography-font-size-300);
        }

        .vallejo-header__mobile-nav-children {
            display: flex;
            flex-direction: column;
        }

        .vallejo-header__mobile-actions {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-8);
            padding-top: var(--spacing-16);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .vallejo-header__mobile-sign-in-link {
            display: block;
            padding: var(--spacing-12) var(--spacing-16);
            color: var(--color-brand-copart-white);
            text-decoration: none;
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            text-align: center;
            border-radius: var(--border-radius-200);
            transition: color 0.2s ease, text-decoration 0.2s ease;
        }

        .vallejo-header__mobile-sign-in-link:hover {
            color: var(--color-light-blue-300);
            text-decoration: underline;
        }

        .vallejo-header__mobile-sign-up {
            width: 100%;
        }

        .vallejo-header__mobile-account {
            display: flex;
            align-items: center;
            gap: var(--spacing-12);
            padding: var(--spacing-12) var(--spacing-16);
            background: none;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--border-radius-200);
            color: var(--color-brand-copart-white);
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .vallejo-header__mobile-account:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Button Styles - Vallejo specs */
        .btn {
            font-family: var(--typography-font-family-base);
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-8);
            box-sizing: border-box;
            outline: none;
            border: none;
            text-decoration: none;
        }

        .btn-default {
            height: var(--spacing-46);
            padding: 0 var(--spacing-24);
            border-radius: var(--border-radius-200);
            font-size: var(--typography-font-size-400);
            font-weight: var(--typography-weight-medium);
            line-height: var(--typography-line-height-400);
        }

        .btn-small {
            height: var(--spacing-34);
            padding: 0 var(--spacing-20);
            border-radius: var(--border-radius-150);
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            line-height: var(--typography-line-height-300);
        }

        .btn-default-type {
            background-color: var(--color-brand-copart-blue);
            color: var(--color-brand-copart-white);
        }

        .btn-default-type:hover {
            background-color: var(--color-light-blue-500);
            color: var(--color-brand-copart-white);
        }

        .btn-secondary {
            border: 1px solid var(--color-brand-copart-blue);
            background-color: transparent;
            color: var(--color-brand-copart-blue);
        }

        .btn-secondary:hover {
            background-color: var(--color-light-blue-300);
            color: var(--color-light-blue-600);
        }

        /* Input Styles */
        .input-label {
            display: block;
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            line-height: var(--typography-line-height-400);
            color: var(--color-light-neutral-500);
            margin-bottom: var(--spacing-8);
        }

        .input-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .input {
            width: 100%;
            padding: var(--spacing-12) var(--spacing-16);
            border: 1px solid var(--color-light-neutral-300);
            border-radius: var(--border-radius-200);
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            line-height: var(--typography-line-height-400);
            color: var(--color-light-neutral-500);
            background-color: var(--color-light-neutral-000);
            outline: none;
            transition: border-color 0.2s ease;
            appearance: none;
        }

        .input:focus {
            border-color: var(--color-brand-copart-blue);
        }

        .input-icon {
            position: absolute;
            right: var(--spacing-12);
            color: var(--color-light-neutral-400);
            pointer-events: none;
        }

        /* Language modal: light inputs (overrides if needed) */
        .vallejo-header__language-modal .input {
            background-color: var(--color-light-neutral-000);
            border-color: var(--color-light-neutral-300);
            color: var(--color-light-neutral-500);
        }

        /* Icon Styles - for data-icon rendered SVGs */
        [data-icon] svg,
        svg[data-icon] {
            display: inline-block;
            vertical-align: middle;
        }

        .vallejo-header__nav-chevron svg {
            transition: transform 0.2s ease;
        }

        .vallejo-header__nav-link--active .vallejo-header__nav-chevron svg {
            transform: rotate(180deg);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .vallejo-header__primary-nav {
                display: none;
            }

            .vallejo-header__mobile-toggle {
                display: block;
            }

            .vallejo-header__search {
                max-width: 400px;
                margin: 0 var(--spacing-16);
            }

            .vallejo-header__help-link,
            .vallejo-header__sign-in-link {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .vallejo-header__main .vallejo-header__container {
                height: 80px;
                padding: 0 var(--spacing-16);
                gap: var(--spacing-16);
            }

            .vallejo-header__mobile-toggle {
                order: -1;
            }

            .vallejo-header__logo {
                order: 0;
            }

            .vallejo-header__primary-nav {
                order: 1;
                display: none;
            }

            .vallejo-header__search {
                order: 2;
                display: none;
            }

            .vallejo-header__utilities {
                order: 3;
                gap: var(--spacing-16);
                margin-left: auto;
            }

            .vallejo-header__auth-group {
                display: none;
            }

            .vallejo-header__sign-in-icon {
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 0;
                color: var(--color-brand-copart-white);
                text-decoration: none;
                border-radius: var(--border-radius-200);
                transition: background-color 0.2s ease;
            }

            .vallejo-header__sign-in-icon:hover {
                background-color: rgba(255, 255, 255, 0.1);
                color: var(--color-brand-copart-white);
            }

            .vallejo-header__bell-btn {
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 0;
                background: none;
                border: none;
                color: var(--color-brand-copart-white);
                cursor: pointer;
                border-radius: var(--border-radius-200);
                transition: background-color 0.2s ease;
            }

            .vallejo-header__bell-btn:hover {
                background-color: rgba(255, 255, 255, 0.1);
            }

            .vallejo-header__language-button {
                padding: 0;
                gap: var(--spacing-4);
            }

            .vallejo-header__account-button {
                padding: 0;
                gap: var(--spacing-4);
            }

            .vallejo-header__account-text {
                display: none;
            }

            .vallejo-header__logo-img {
                height: 38px;
            }

            .vallejo-header__logo-oval {
                min-height: 38px;
            }

            .vallejo-header__secondary {
                display: none !important;
            }

            .vallejo-header__mobile-search {
                display: flex;
                align-items: center;
                height: 68px;
                padding: 0 var(--spacing-16);
                background-color: var(--color-light-neutral-400);
            }

            .vallejo-header__mobile-search .vallejo-header__search-form {
                display: flex;
                align-items: center;
                flex: 1;
                height: 40px;
                background: var(--color-light-neutral-000);
                border-radius: var(--border-radius-200);
                overflow: hidden;
            }

            .vallejo-header__mobile-search .vallejo-header__search-input {
                flex: 1;
                padding: 0 var(--spacing-12);
                height: 40px;
                border: none;
                background: none;
                font-size: var(--typography-font-size-300);
                color: var(--color-light-neutral-500);
                outline: none;
            }

            .vallejo-header__mobile-search .vallejo-header__search-input::placeholder {
                color: var(--color-light-neutral-400);
            }

            .vallejo-header__mobile-search .vallejo-header__search-button {
                width: 40px;
                height: 40px;
                flex-shrink: 0;
                background: none;
                border: none;
                color: var(--color-light-neutral-400);
            }

            .vallejo-header__mobile-menu {
                top: 148px;
            }
        }

        @media (min-width: 769px) {
            .vallejo-header__sign-in-icon,
            .vallejo-header__bell-btn {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .vallejo-header__mobile-menu {
                top: 148px;
            }

            .vallejo-header__logo-text {
                display: none;
            }

            .vallejo-header__flag {
                width: 20px;
                height: 14px;
            }

            .vallejo-header__flag [data-icon] {
                width: 20px;
                height: 14px;
            }

            .vallejo-header__language-button svg {
                display: none;
            }
        }

        /* Demo Content Styles */
        .demo-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-24) var(--spacing-16);
        }

        .demo-section {
            background: var(--color-light-neutral-000);
            padding: var(--spacing-24);
            border-radius: var(--border-radius-200);
            box-shadow: var(--shadow-medium);
            margin-bottom: var(--spacing-16);
            border: 1px solid var(--color-light-neutral-200);
        }

        .demo-title {
            font-size: var(--typography-font-size-500);
            font-weight: var(--typography-weight-semibold);
            line-height: var(--typography-line-height-500);
            color: var(--color-light-neutral-500);
            margin: 0 0 var(--spacing-8) 0;
        }

        .demo-subtitle {
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-regular);
            line-height: var(--typography-line-height-400);
            color: var(--color-light-neutral-400);
            margin: 0 0 var(--spacing-24) 0;
        }

        .demo-controls {
            display: flex;
            gap: var(--spacing-8);
            margin-bottom: var(--spacing-24);
            flex-wrap: wrap;
        }

        .demo-controls button {
            padding: var(--spacing-12) var(--spacing-16);
            background: var(--color-light-neutral-000);
            border: 1px solid var(--color-light-neutral-300);
            border-radius: var(--border-radius-200);
            color: var(--color-light-neutral-500);
            font-size: var(--typography-font-size-300);
            font-weight: var(--typography-weight-medium);
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
        }

        .demo-controls button:hover {
            background: var(--color-light-neutral-100);
            border-color: var(--color-light-neutral-400);
        }

        .demo-controls button.active {
            background: var(--color-light-blue-200);
            border-color: var(--color-brand-copart-blue);
            color: var(--color-brand-copart-blue);
        }
    </style>
</head>
<body>
    <!-- Header Component -->
    <header class="vallejo-header" id="header">
        <!-- Main Header Bar -->
        <div class="vallejo-header__main">
            <div class="vallejo-header__container">
                <!-- Logo: Vallejo SVG from assets/logos (fetch via scripts/fetch-figma-logos.js); fallback to placeholder -->
                <div class="vallejo-header__logo">
                    <a href="/" class="vallejo-header__logo-link">
                        <img src="../assets/logos/copart.svg" alt="Copart" height="48" class="vallejo-header__logo-img" id="headerLogoImg" />
                        <div class="vallejo-header__logo-default" id="logoFallback" style="display: none;">
                            <div class="vallejo-header__logo-oval">
                                <span class="vallejo-header__logo-text">Copart</span>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Mobile Menu Toggle -->
                <button
                    class="vallejo-header__mobile-toggle"
                    aria-label="Toggle menu"
                    aria-expanded="false"
                    id="mobileToggle"
                >
                    <span data-icon="menu" data-icon-size="24"></span>
                </button>

                <!-- Primary Navigation -->
                <nav class="vallejo-header__primary-nav" aria-label="Primary navigation">
                    <ul class="vallejo-header__nav-list" id="primaryNav">
                        <!-- Navigation items will be populated by JavaScript -->
                    </ul>
                </nav>

                <!-- Search Bar -->
                <div class="vallejo-header__search">
                    <form class="vallejo-header__search-form" id="searchForm">
                        <input
                            type="text"
                            class="vallejo-header__search-input"
                            placeholder="Try our new AI search!"
                            id="searchInput"
                            aria-label="Search"
                        />
                        <button
                            type="submit"
                            class="vallejo-header__search-button"
                            aria-label="Search"
                        >
                            <span data-icon="search" data-icon-size="20"></span>
                        </button>
                    </form>
                </div>

                <!-- Utility Actions -->
                <div class="vallejo-header__utilities" id="utilities">
                    <!-- Populated by JavaScript based on auth state -->
                </div>
            </div>
            <!-- Mobile-only search row (input + search, same as desktop) -->
            <div class="vallejo-header__mobile-search" id="mobileSearch">
                <form class="vallejo-header__search-form" id="mobileSearchForm">
                    <input type="text" class="vallejo-header__search-input" id="mobileSearchInput" placeholder="Try our new AI search!" aria-label="Search" />
                    <button type="submit" class="vallejo-header__search-button" aria-label="Search">
                        <span data-icon="search" data-icon-size="20"></span>
                    </button>
                </form>
            </div>
        </div>

        <!-- Secondary Navigation Bar -->
        <div class="vallejo-header__secondary" id="secondaryNav" style="display: none;">
            <div class="vallejo-header__container">
                <nav class="vallejo-header__secondary-nav" aria-label="Secondary navigation">
                    <ul class="vallejo-header__nav-list" id="secondaryNavList">
                        <!-- Populated by JavaScript -->
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Language Modal -->
    <div class="vallejo-header__language-modal-overlay" id="languageModal" style="display: none;">
        <div class="vallejo-header__language-modal">
            <div class="vallejo-header__language-modal-header">
                <h3 class="vallejo-header__language-modal-title">Update website language</h3>
                <button
                    class="vallejo-header__language-modal-close"
                    id="closeLanguageModal"
                    aria-label="Close"
                >
                    <span data-icon="close" data-icon-size="20"></span>
                </button>
            </div>
            <div class="vallejo-header__language-modal-content">
                <p class="vallejo-header__language-modal-description">
                    Copart operates globally, and you can access our website in multiple languages and regions.
                </p>
                
                <div class="vallejo-header__language-modal-field">
                    <label class="input-label">Language</label>
                    <div class="input-container">
                        <select class="input" id="languageSelect">
                            <option value="en">English</option>
                            <option value="es">Español</option>
                            <option value="fr">Français</option>
                        </select>
                        <span data-icon="chevron-down" data-icon-size="16" data-icon-class="input-icon"></span>
                    </div>
                </div>

                <div class="vallejo-header__language-modal-field">
                    <label class="input-label">Choose website region</label>
                    <p class="vallejo-header__language-modal-hint">
                        Select your preferred region to see localized content and pricing.
                    </p>
                    <div class="input-container">
                        <select class="input" id="regionSelect">
                            <option value="us">USA</option>
                            <option value="ca">Canada</option>
                            <option value="uk">United Kingdom</option>
                        </select>
                        <span data-icon="chevron-down" data-icon-size="16" data-icon-class="input-icon"></span>
                    </div>
                </div>

                <div class="vallejo-header__language-modal-actions">
                    <button class="btn btn-default btn-default-type" id="confirmLanguage">
                        Confirm
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div class="vallejo-header__mobile-menu" id="mobileMenu" style="display: none;">
        <div class="vallejo-header__mobile-menu-content">
            <nav class="vallejo-header__mobile-nav" id="mobileNav">
                <!-- Populated by JavaScript -->
            </nav>
            <div class="vallejo-header__mobile-actions" id="mobileActions">
                <!-- Populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Demo Content -->
    <div class="demo-content">
        <div class="demo-section">
            <h1 class="demo-title">Vallejo Header Component Demo</h1>
            <p class="demo-subtitle">
                This is a functional demo of the Vallejo Header component. Try interacting with the header above.
                Use the controls below to toggle between authenticated and unauthenticated states.
            </p>

            <div class="demo-controls">
                <button id="toggleAuth" class="active">Unauthenticated</button>
                <button id="toggleSecondaryNav">Toggle Secondary Nav</button>
            </div>

            <h2 style="font-size: var(--typography-font-size-400); font-weight: var(--typography-weight-medium); margin-top: var(--spacing-16);">
                Features to Test:
            </h2>
            <ul style="line-height: 1.8;">
                <li><strong>Navigation Dropdowns:</strong> Click on "Buy", "Sell", "Auctions", or "Locations" to see dropdown menus</li>
                <li><strong>Search:</strong> Type in the search bar and press Enter or click the search button</li>
                <li><strong>Authentication:</strong> Use the toggle button above to switch between authenticated and unauthenticated states</li>
                <li><strong>Language/Region:</strong> Click the flag icon (when authenticated) to open the language/region modal</li>
                <li><strong>Mobile Menu:</strong> Resize your browser window to see the mobile hamburger menu</li>
                <li><strong>Responsive:</strong> The header adapts at different breakpoints (1024px, 768px, 480px)</li>
            </ul>
        </div>
    </div>

    <script>
        // Vallejo Design System Icon Library
        const VallejoIcons = {
            "close": { viewBox: "0 0 24 24", path: "<path d=\"M18 6L6 18M6 6l12 12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "close-circle": { viewBox: "0 0 24 24", path: "<circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/><path d=\"M15 9l-6 6M9 9l6 6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "check": { viewBox: "0 0 24 24", path: "<path d=\"M20 6L9 17l-5-5\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "check-circle": { viewBox: "0 0 24 24", path: "<circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/><path d=\"M9 12l2 2 4-4\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "chevron-up": { viewBox: "0 0 24 24", path: "<path d=\"M18 15l-6-6-6 6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "chevron-down": { viewBox: "0 0 24 24", path: "<path d=\"M6 9l6 6 6-6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "chevron-left": { viewBox: "0 0 24 24", path: "<path d=\"M15 18l-6-6 6-6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "chevron-right": { viewBox: "0 0 24 24", path: "<path d=\"M9 18l6-6-6-6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "search": { viewBox: "0 0 24 24", path: "<circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/><path d=\"m21 21-4.35-4.35\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "menu": { viewBox: "0 0 24 24", path: "<path d=\"M3 12h18M3 6h18M3 18h18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>" },
            "user": { viewBox: "0 0 24 24", path: "<path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" fill=\"none\"/><circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\"/>" },
            "bell": { viewBox: "0 0 24 24", path: "<path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" fill=\"none\"/><path d=\"M13.73 21a2 2 0 0 1-3.46 0\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>" },
            "flag-us": { viewBox: "0 0 25 18", path: "<rect x=\"0\" y=\"0\" width=\"25\" height=\"18\" rx=\"2.5\" fill=\"white\"/><rect x=\"0\" y=\"0\" width=\"10.8\" height=\"9.6\" fill=\"#1A47B8\"/><rect x=\"10.8\" y=\"0\" width=\"14.2\" height=\"1.2\" fill=\"#F93939\"/><rect x=\"10.8\" y=\"2.4\" width=\"14.2\" height=\"1.2\" fill=\"#F93939\"/><rect x=\"10.8\" y=\"4.8\" width=\"14.2\" height=\"1.2\" fill=\"#F93939\"/><rect x=\"10.8\" y=\"7.2\" width=\"14.2\" height=\"1.2\" fill=\"#F93939\"/><rect x=\"0\" y=\"9.6\" width=\"25\" height=\"1.2\" fill=\"#F93939\"/><rect x=\"0\" y=\"12\" width=\"25\" height=\"1.2\" fill=\"#F93939\"/><rect x=\"0\" y=\"14.4\" width=\"25\" height=\"1.2\" fill=\"#F93939\"/><rect x=\"0\" y=\"16.8\" width=\"25\" height=\"1.2\" fill=\"#F93939\"/><rect x=\"1.35\" y=\"0.7\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"3.15\" y=\"0.7\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"4.95\" y=\"0.7\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"6.75\" y=\"0.7\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"2.25\" y=\"2.05\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"4.05\" y=\"2.05\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"5.85\" y=\"2.05\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"1.35\" y=\"3.4\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"3.15\" y=\"3.4\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"4.95\" y=\"3.4\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"6.75\" y=\"3.4\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"2.25\" y=\"4.75\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"4.05\" y=\"4.75\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"5.85\" y=\"4.75\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"1.35\" y=\"6.1\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"3.15\" y=\"6.1\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"4.95\" y=\"6.1\" width=\"1.2\" height=\"1.35\" fill=\"white\"/><rect x=\"6.75\" y=\"6.1\" width=\"1.2\" height=\"1.35\" fill=\"white\"/>" }
        };

        function renderIcon(iconName, options = {}) {
            const icon = VallejoIcons[iconName];
            if (!icon) {
                console.warn(`Icon "${iconName}" not found`);
                return '';
            }
            const size = options.size || 24;
            const className = options.className || '';
            const ariaHidden = options.ariaHidden !== false;
            const viewBox = icon.viewBox || '0 0 24 24';
            
            // Check if icon has explicit fill colors (not currentColor or none)
            // Icons like flag-us have explicit fill colors that should be preserved
            const hasExplicitFills = /fill="(?!none|currentColor)[^"]+"/i.test(icon.path);
            
            // For icons with explicit fills, don't add fill="none" to the SVG element
            const svgAttrs = hasExplicitFills 
                ? `width="${size}" height="${size}" viewBox="${viewBox}" class="${className}" ${ariaHidden ? 'aria-hidden="true"' : ''}`
                : `width="${size}" height="${size}" viewBox="${viewBox}" fill="none" stroke="currentColor" class="${className}" ${ariaHidden ? 'aria-hidden="true"' : ''}`;

            return `<svg ${svgAttrs}>${icon.path}</svg>`;
        }

        function initIcons() {
            document.querySelectorAll('[data-icon]').forEach(element => {
                const iconName = element.getAttribute('data-icon');
                const size = element.getAttribute('data-icon-size') || 24;
                const className = element.getAttribute('data-icon-class') || '';
                const icon = VallejoIcons[iconName];
                if (icon) {
                    const svgHTML = renderIcon(iconName, {
                        size: parseInt(size),
                        className: className,
                        ariaHidden: true
                    });
                    const temp = document.createElement('div');
                    temp.innerHTML = svgHTML;
                    const svg = temp.querySelector('svg');
                    element.replaceWith(svg);
                }
            });
        }

        function initLogoFallback() {
            const img = document.getElementById('headerLogoImg');
            const fallback = document.getElementById('logoFallback');
            if (!img || !fallback) return;
            img.onerror = function () {
                img.onerror = null;
                img.style.display = 'none';
                fallback.style.display = 'flex';
            };
            img.onload = function () {
                fallback.style.display = 'none';
            };
        }

        // Initialize icons and logo fallback when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => { initIcons(); initLogoFallback(); });
        } else {
            initIcons();
            initLogoFallback();
        }

        // Sample data
        const primaryNavigation = [
            {
                id: 'buy',
                label: 'Buy',
                href: '/buy',
                children: [
                    { id: 'browse-type', label: 'Browse by type', href: '/buy/type' },
                    { id: 'browse-category', label: 'Browse by category', href: '/buy/category' },
                    { id: 'browse-file', label: 'Browse by file type', href: '/buy/file' },
                    { id: 'arbitration', label: 'Arbitration-backed Inventory', href: '/buy/arbitration' },
                    { id: 'buy-now', label: 'Buy it now', href: '/buy/now' },
                    { id: 'pure-sale', label: 'Pure sale', href: '/buy/pure' },
                    { id: 'all-products', label: 'All products', href: '/buy/all' },
                    { id: 'vehicle-alerts', label: 'Vehicle alerts', href: '/buy/alerts' },
                ]
            },
            {
                id: 'sell',
                label: 'Sell',
                href: '/sell',
            },
            {
                id: 'auctions',
                label: 'Auctions',
                href: '/auctions',
                children: [
                    { id: 'my-bids', label: 'My bids', href: '/auctions/bids' },
                    { id: 'lots-won', label: 'Lots won', href: '/auctions/won' },
                    { id: 'lots-lost', label: 'Lots lost', href: '/auctions/lost' },
                    { id: 'my-offers', label: 'My offers', href: '/auctions/offers' },
                ]
            },
            {
                id: 'locations',
                label: 'Locations',
                href: '/locations',
            },
        ];

        const secondaryNavigation = [
            { id: 'dashboard', label: 'Dashboard', href: '/dashboard' },
            {
                id: 'my-tools',
                label: 'My tools',
                href: '/tools',
                children: [
                    { id: 'my-bids', label: 'My bids', href: '/tools/bids' },
                    { id: 'lots-won', label: 'Lots won', href: '/tools/won' },
                    { id: 'lots-lost', label: 'Lots lost', href: '/tools/lost' },
                    { id: 'my-offers', label: 'My offers', href: '/tools/offers' },
                ]
            },
            { id: 'bid-status', label: 'Bid status', href: '/bid-status' },
            { id: 'payments', label: 'Payments', href: '/payments' },
            { id: 'helpdesk', label: 'Helpdesk', href: '/helpdesk' },
        ];

        // Account dropdown items (when authenticated)
        const accountDropdownItems = [
            { id: 'my-bids', label: 'My bids', href: '/auctions/bids' },
            { id: 'lots-won', label: 'Lots won', href: '/auctions/won' },
            { id: 'lots-lost', label: 'Lots lost', href: '/auctions/lost' },
            { id: 'my-offers', label: 'My offers', href: '/auctions/offers' },
        ];

        // State
        let isAuthenticated = false;
        let activeDropdown = null;
        let accountDropdownOpen = false;

        // Initialize
        function init() {
            // Initialize icons for static HTML elements first
            initIcons();
            renderPrimaryNav();
            renderUtilities();
            setupEventListeners();
        }

        // Render primary navigation
        function renderPrimaryNav() {
            const navList = document.getElementById('primaryNav');
            navList.innerHTML = primaryNavigation.map(item => `
                <li class="vallejo-header__nav-item">
                    <a
                        href="${item.href || '#'}"
                        class="vallejo-header__nav-link ${item.children ? 'has-dropdown' : ''} ${activeDropdown === item.id ? 'vallejo-header__nav-link--active' : ''}"
                        data-item-id="${item.id}"
                        ${item.children ? 'aria-haspopup="true" aria-expanded="false"' : ''}
                    >
                        ${item.label}
                        ${item.children ? `
                            <span data-icon="chevron-down" data-icon-size="12" data-icon-class="vallejo-header__nav-chevron"></span>
                        ` : ''}
                    </a>
                    ${item.children && activeDropdown === item.id ? `
                        <div class="vallejo-header__dropdown">
                            <div class="vallejo-header__dropdown-content">
                                ${item.children.map(child => `
                                    <a href="${child.href || '#'}" class="vallejo-header__dropdown-item">
                                        ${child.label}
                                        ${child.children ? `
                                            <span data-icon="chevron-right" data-icon-size="12"></span>
                                        ` : ''}
                                    </a>
                                `).join('')}
                            </div>
                        </div>
                    ` : ''}
                </li>
            `).join('');

            // Add click handlers
            navList.querySelectorAll('.vallejo-header__nav-link.has-dropdown').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const itemId = link.dataset.itemId;
                    if (activeDropdown === itemId) {
                        activeDropdown = null;
                    } else {
                        activeDropdown = itemId;
                    }
                    accountDropdownOpen = false;
                    renderPrimaryNav();
                    renderUtilities();
                });
            });

            // Re-initialize icons for newly rendered elements
            initIcons();
        }

        // Render utilities
        function renderUtilities() {
            const utilities = document.getElementById('utilities');
            if (isAuthenticated) {
                utilities.innerHTML = `
                    <button class="vallejo-header__language-button" id="languageButton" aria-label="Change language">
                        <span class="vallejo-header__flag">
                            <span data-icon="flag-us" data-icon-size="25"></span>
                        </span>
                        <span data-icon="chevron-down" data-icon-size="12"></span>
                    </button>
                    <button type="button" class="vallejo-header__bell-btn" aria-label="Notifications">
                        <span data-icon="bell" data-icon-size="20"></span>
                    </button>
                    <div class="vallejo-header__account-wrap">
                        <button
                            type="button"
                            class="vallejo-header__account-button ${accountDropdownOpen ? 'vallejo-header__account-button--active' : ''}"
                            id="accountButton"
                            aria-label="Account"
                            aria-haspopup="true"
                            aria-expanded="${accountDropdownOpen}"
                        >
                            <span data-icon="user" data-icon-size="20"></span>
                            <span class="vallejo-header__account-text">Account</span>
                            <span data-icon="chevron-down" data-icon-size="12" data-icon-class="vallejo-header__nav-chevron"></span>
                        </button>
                        ${accountDropdownOpen ? `
                            <div class="vallejo-header__dropdown vallejo-header__account-dropdown">
                                <div class="vallejo-header__dropdown-content">
                                    ${accountDropdownItems.map(item => `
                                        <a href="${item.href || '#'}" class="vallejo-header__dropdown-item">${item.label}</a>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                    </div>
                `;
                const accountBtn = document.getElementById('accountButton');
                if (accountBtn) {
                    accountBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        activeDropdown = null;
                        renderPrimaryNav();
                        renderSecondaryNav();
                        accountDropdownOpen = !accountDropdownOpen;
                        renderUtilities();
                    });
                }
            } else {
                utilities.innerHTML = `
                    <a href="#" class="vallejo-header__help-link" id="helpLink">Need help?</a>
                    <button class="vallejo-header__language-button" id="languageButton" aria-label="Change language">
                        <span class="vallejo-header__flag">
                            <span data-icon="flag-us" data-icon-size="25"></span>
                        </span>
                        <span data-icon="chevron-down" data-icon-size="12"></span>
                    </button>
                    <a href="#" class="vallejo-header__sign-in-icon" id="signInIcon" aria-label="Sign in">
                        <span data-icon="user" data-icon-size="20"></span>
                    </a>
                    <div class="vallejo-header__auth-group">
                        <a href="#" class="vallejo-header__sign-in-link" id="signInLink">Sign in</a>
                        <button type="button" class="btn btn-default btn-default-type btn-small vallejo-header__sign-up" id="signUpButton">Sign up</button>
                    </div>
                `;
            }

            // Update secondary nav visibility
            const secondaryNav = document.getElementById('secondaryNav');
            if (isAuthenticated && secondaryNavigation.length > 0) {
                secondaryNav.style.display = 'block';
                renderSecondaryNav();
            } else {
                secondaryNav.style.display = 'none';
            }

            // Re-initialize icons for newly rendered elements
            initIcons();
        }

        // Render secondary navigation
        function renderSecondaryNav() {
            const navList = document.getElementById('secondaryNavList');
            navList.innerHTML = secondaryNavigation.map(item => `
                <li class="vallejo-header__nav-item">
                    <a
                        href="${item.href || '#'}"
                        class="vallejo-header__nav-link ${item.children ? 'has-dropdown' : ''} ${activeDropdown === item.id ? 'vallejo-header__nav-link--active' : ''}"
                        data-item-id="${item.id}"
                        ${item.children ? 'aria-haspopup="true" aria-expanded="false"' : ''}
                    >
                        ${item.label}
                        ${item.children ? `
                            <span data-icon="chevron-down" data-icon-size="12" data-icon-class="vallejo-header__nav-chevron"></span>
                        ` : ''}
                    </a>
                    ${item.children && activeDropdown === item.id ? `
                        <div class="vallejo-header__dropdown">
                            <div class="vallejo-header__dropdown-content">
                                ${item.children.map(child => `
                                    <a href="${child.href || '#'}" class="vallejo-header__dropdown-item">
                                        ${child.label}
                                    </a>
                                `).join('')}
                            </div>
                        </div>
                    ` : ''}
                </li>
            `).join('');

            // Add click handlers
            navList.querySelectorAll('.vallejo-header__nav-link.has-dropdown').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const itemId = link.dataset.itemId;
                    if (activeDropdown === itemId) {
                        activeDropdown = null;
                    } else {
                        activeDropdown = itemId;
                    }
                    accountDropdownOpen = false;
                    renderSecondaryNav();
                    renderUtilities();
                });
            });

            // Re-initialize icons for newly rendered elements
            initIcons();
        }

        // Setup event listeners
        function setupEventListeners() {
            // Mobile toggle
            document.getElementById('mobileToggle').addEventListener('click', () => {
                const menu = document.getElementById('mobileMenu');
                const isOpen = menu.style.display !== 'none';
                menu.style.display = isOpen ? 'none' : 'block';
                document.getElementById('mobileToggle').setAttribute('aria-expanded', !isOpen);
            });

            // Search form
            document.getElementById('searchForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const query = document.getElementById('searchInput').value;
                alert(`Searching for "${query}"`);
            });

            // Mobile search form
            const mobileSearchForm = document.getElementById('mobileSearchForm');
            if (mobileSearchForm) {
                mobileSearchForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const query = document.getElementById('mobileSearchInput').value;
                    alert(`Searching for "${query}"`);
                });
            }

            // Toggle auth
            document.getElementById('toggleAuth').addEventListener('click', () => {
                isAuthenticated = !isAuthenticated;
                accountDropdownOpen = false;
                document.getElementById('toggleAuth').textContent = isAuthenticated ? 'Authenticated' : 'Unauthenticated';
                document.getElementById('toggleAuth').classList.toggle('active', !isAuthenticated);
                renderUtilities();
            });

            // Language modal
            document.addEventListener('click', (e) => {
                const languageButton = document.getElementById('languageButton');
                if (languageButton && e.target.closest('#languageButton')) {
                    document.getElementById('languageModal').style.display = 'flex';
                }
                if (e.target.closest('#closeLanguageModal') || e.target.closest('#confirmLanguage')) {
                    document.getElementById('languageModal').style.display = 'none';
                }
                if (e.target.id === 'languageModal') {
                    document.getElementById('languageModal').style.display = 'none';
                }
            });

            // Close dropdowns on outside click
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.vallejo-header__nav-item')) {
                    activeDropdown = null;
                    renderPrimaryNav();
                    renderSecondaryNav();
                }
                if (!e.target.closest('.vallejo-header__account-wrap') && isAuthenticated) {
                    accountDropdownOpen = false;
                    renderUtilities();
                }
            });

            renderMobileNav();
            // Re-render mobile nav when auth state changes
            const originalRenderUtilities = renderUtilities;
            renderUtilities = function() {
                originalRenderUtilities();
                renderMobileNav();
                initIcons();
            };
        }

        function renderMobileNav() {
            const mobileNav = document.getElementById('mobileNav');
            mobileNav.innerHTML = primaryNavigation.map(item => `
                <div class="vallejo-header__mobile-nav-item">
                    <a href="${item.href || '#'}" class="vallejo-header__mobile-nav-link">
                        ${item.label}
                    </a>
                    ${item.children ? `
                        <div class="vallejo-header__mobile-nav-children">
                            ${item.children.map(child => `
                                <a href="${child.href || '#'}" class="vallejo-header__mobile-nav-link vallejo-header__mobile-nav-link--child">
                                    ${child.label}
                                </a>
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');

            const mobileActions = document.getElementById('mobileActions');
            if (isAuthenticated) {
                mobileActions.innerHTML = `
                    <button class="vallejo-header__mobile-account">
                        <span data-icon="user" data-icon-size="20"></span>
                        <span>Account</span>
                    </button>
                `;
            } else {
                mobileActions.innerHTML = `
                    <a href="#" class="vallejo-header__mobile-sign-in-link">Sign in</a>
                    <button class="btn btn-default btn-default-type btn-small vallejo-header__mobile-sign-up">
                        Sign up
                    </button>
                `;
            }

            // Re-initialize icons for mobile nav
            initIcons();
        }

        // Initialize on load
        init();
    </script>
</body>
</html>
